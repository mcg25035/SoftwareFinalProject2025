{% extends 'base_fomo.html' %}

{% block title %}支付詳情 - FOMO 購物{% endblock %}

{% block content %}
<h2>支付詳情</h2>

<div class="card">
    <div class="card-header">
        <div class="d-flex justify-content-between">
            <span>交易編號：{{ transaction.transaction_id }}</span>
            <span class="badge bg-{% if transaction.status == 'completed' %}success{% elif transaction.status == 'failed' %}danger{% else %}warning{% endif %}">
                {{ transaction.get_status_display }}
            </span>
        </div>
    </div>
    <div class="card-body">
        <p><strong>訂單編號：</strong>{{ transaction.order.order_number }}</p>
        <p><strong>付款方式：</strong>{{ transaction.payment_method.name }}</p>
        <p><strong>金額：</strong>NT$ {{ transaction.amount }}</p>
        <p><strong>建立時間：</strong>{{ transaction.created_at|date:"Y-m-d H:i" }}</p>
        {% if transaction.completed_at %}
        <p><strong>完成時間：</strong>{{ transaction.completed_at|date:"Y-m-d H:i" }}</p>
        {% endif %}
        
        <div class="mt-3">
            <a href="{% url 'customer:order_detail' transaction.order.id %}" class="btn btn-primary">查看訂單</a>
            <a href="{% url 'payment:transaction_history' %}" class="btn btn-outline-secondary">返回交易記錄</a>
        </div>
    </div>
</div>
{% endblock %}

