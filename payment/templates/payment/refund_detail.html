{% extends 'base_fomo.html' %}

{% block title %}退款詳情 - FOMO 購物{% endblock %}

{% block content %}
<h2>退款詳情</h2>

<div class="card">
    <div class="card-header">
        <div class="d-flex justify-content-between">
            <span>退款編號：{{ refund.refund_id }}</span>
            <span class="badge bg-{% if refund.status == 'pending' %}warning{% elif refund.status == 'completed' %}success{% elif refund.status == 'rejected' %}danger{% else %}info{% endif %}">
                {{ refund.get_status_display }}
            </span>
        </div>
    </div>
    <div class="card-body">
        <p><strong>訂單編號：</strong>{{ refund.order.order_number }}</p>
        <p><strong>退款金額：</strong>NT$ {{ refund.amount }}</p>
        <p><strong>退款原因：</strong></p>
        <p>{{ refund.reason }}</p>
        <p><strong>申請時間：</strong>{{ refund.created_at|date:"Y-m-d H:i" }}</p>
        {% if refund.completed_at %}
        <p><strong>完成時間：</strong>{{ refund.completed_at|date:"Y-m-d H:i" }}</p>
        {% endif %}
        
        <div class="mt-3">
            <a href="{% url 'customer:order_detail' refund.order.id %}" class="btn btn-primary">查看訂單</a>
            <a href="{% url 'payment:refund_list' %}" class="btn btn-outline-secondary">返回退款列表</a>
        </div>
    </div>
</div>
{% endblock %}

